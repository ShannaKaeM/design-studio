"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[8902],{403:(t,e,i)=>{i.d(e,{i:()=>s,m:()=>o,z:()=>n});const n=["bif","byr","clp","djf","gnf","isk","jpy","kmf","krw","pyg","rwf","ugx","vnd","vuv","xaf","xag","xau","xba","xbb","xbc","xbd","xdr","xof","xpd","xpf","xpt","xts"],o=(t,e)=>s(e)?t:t/100,s=t=>{var e;return n.includes(null===(e=null==t?void 0:t.toLowerCase)||void 0===e?void 0:e.call(t))}},3417:(t,e,i)=>{var n=i(403),o=i(9718);window.addEventListener("scSearched",(function(t){var e;if(!(null===window||void 0===window?void 0:window.fbq))return;const i=t.detail;window.fbq("track","Search",{search_string:i.searchString,content_ids:i.searchResultIds,...(null===(e=null==i?void 0:i.searchCollections)||void 0===e?void 0:e.length)?{content_category:i.searchCollections.join(",")}:{}})})),window.addEventListener("scProductViewed",(function(t){var e,i,o,s,a,r;if(!(null===window||void 0===window?void 0:window.fbq))return;const l=t.detail;window.fbq("track","ViewContent",{content_ids:[l.id],content_category:null===(i=null===(e=null==l?void 0:l.product_collections)||void 0===e?void 0:e.data)||void 0===i?void 0:i.map((t=>t.name)).join(", "),content_name:(null==l?void 0:l.name)+((null===(o=null==l?void 0:l.variant_options)||void 0===o?void 0:o.length)?` - ${null==l?void 0:l.variant_options.join(" / ")}`:""),content_type:"product",contents:[{id:l.id,quantity:1}],currency:null===(s=null==l?void 0:l.price)||void 0===s?void 0:s.currency,value:(0,n.m)((null===(a=l.price)||void 0===a?void 0:a.amount)||0,(null===(r=l.price)||void 0===r?void 0:r.currency)||"USD")})})),window.addEventListener("scSearched",(t=>{var e;(0,o.t)("search",{search_term:null===(e=t.detail)||void 0===e?void 0:e.searchString})})),window.addEventListener("scProductViewed",(t=>{var e,i,s,a,r,l,d,c,u,h,p,v;const m=t.detail;(0,o.t)("view_item",{value:(0,n.m)((null===(e=m.price)||void 0===e?void 0:e.amount)||0,(null===(i=m.price)||void 0===i?void 0:i.currency)||"USD"),currency:null===(s=m.price)||void 0===s?void 0:s.currency,items:[{item_id:null==m?void 0:m.id,item_name:null==m?void 0:m.name,currency:null===(a=null==m?void 0:m.price)||void 0===a?void 0:a.currency,discount:(null==m?void 0:m.discount_amount)?(0,n.m)(null==m?void 0:m.discount_amount,null===(r=null==m?void 0:m.price)||void 0===r?void 0:r.currency):0,price:(0,n.m)(null===(l=null==m?void 0:m.price)||void 0===l?void 0:l.amount,null===(d=null==m?void 0:m.price)||void 0===d?void 0:d.currency),quantity:(null==m?void 0:m.quantity)||1,...(null===(c=null==m?void 0:m.variant_options)||void 0===c?void 0:c.length)?{item_variant:null==m?void 0:m.variant_options.map((t=>t.name)).join(" / ")}:{},...(null===(h=null===(u=null==m?void 0:m.product_collections)||void 0===u?void 0:u.data)||void 0===h?void 0:h.length)?{item_category:null===(v=null===(p=null==m?void 0:m.product_collections)||void 0===p?void 0:p.data)||void 0===v?void 0:v.map((t=>t.name)).join(", ")}:{}}]})})),window.addEventListener("scProductsViewed",(t=>{var e;const i=t.detail;(0,o.t)("view_item_list",{...(null==i?void 0:i.collectionId)?{item_list_id:i.collectionId}:{},item_list_name:i.pageTitle,items:null===(e=null==i?void 0:i.products)||void 0===e?void 0:e.map((t=>{var e,n,o,s;return{item_id:null==t?void 0:t.id,item_name:null==t?void 0:t.name,...(null===(n=null===(e=null==t?void 0:t.product_collections)||void 0===e?void 0:e.data)||void 0===n?void 0:n.length)?{item_category:null===(s=null===(o=null==t?void 0:t.product_collections)||void 0===o?void 0:o.data)||void 0===s?void 0:s.map((t=>t.name)).join(", ")}:{},...(null==i?void 0:i.collectionId)?{item_list_id:i.collectionId}:{},item_list_name:i.pageTitle}}))})}))},9718:(t,e,i)=>{i.d(e,{t:()=>n});const n=(t,e)=>{((null===window||void 0===window?void 0:window.dataLayer)||(null===window||void 0===window?void 0:window.gtag))&&e&&((null===window||void 0===window?void 0:window.dataLayer)?(window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:t,ecommerce:e})):window.gtag("event",t,e))}},8445:(t,e,i)=>{i.d(e,{s:()=>r});var n=i(7808);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polite",e=document.createElement("div");e.id="a11y-speak-".concat(t),e.className="a11y-speak-region",e.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),e.setAttribute("aria-live",t),e.setAttribute("aria-relevant","additions text"),e.setAttribute("aria-atomic","true");var i=document,n=i.body;return n&&n.appendChild(e),e}i(3659);var s,a="";function r(t,e){!function(){for(var t=document.getElementsByClassName("a11y-speak-region"),e=document.getElementById("a11y-speak-intro-text"),i=0;i<t.length;i++)t[i].textContent="";e&&e.setAttribute("hidden","hidden")}(),t=function(t){return t=t.replace(/<[^<>]+>/g," "),a===t&&(t+="Â "),a=t,t}(t);var i=document.getElementById("a11y-speak-intro-text"),n=document.getElementById("a11y-speak-assertive"),o=document.getElementById("a11y-speak-polite");n&&"assertive"===e?n.textContent=t:o&&(o.textContent=t),i&&i.removeAttribute("hidden")}s=function(){var t=document.getElementById("a11y-speak-intro-text"),e=document.getElementById("a11y-speak-assertive"),i=document.getElementById("a11y-speak-polite");null===t&&function(){var t=document.createElement("p");t.id="a11y-speak-intro-text",t.className="a11y-speak-intro-text",t.textContent=(0,n._)("Notifications"),t.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),t.setAttribute("hidden","hidden");var e=document.body;e&&e.appendChild(t)}(),null===e&&o("assertive"),null===i&&o("polite")},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",s):s())},8902:(t,e,i)=>{i.r(e),i.d(e,{sc_product_item_list:()=>l});var n=i(4589),o=i(3659),s=i(8445),a=i(9964),r=(i(3417),i(2538));i(857),i(7808);const l=class{constructor(t){(0,n.r)(this,t),this.scSearched=(0,n.c)(this,"scSearched",7),this.scProductsViewed=(0,n.c)(this,"scProductsViewed",7),this.ids=void 0,this.sort="created_at:desc",this.query=void 0,this.searchEnabled=!0,this.sortEnabled=!0,this.collectionEnabled=!0,this.collectionId=void 0,this.pageTitle=void 0,this.featured=!1,this.paginationEnabled=!0,this.ajaxPagination=!0,this.paginationAutoScroll=!0,this.layoutConfig=void 0,this.paginationAlignment="center",this.limit=15,this.page=1,this.products=void 0,this.loading=!1,this.busy=!1,this.error=void 0,this.currentPage=1,this.currentQuery=void 0,this.pagination={total:0,total_pages:0},this.collections=void 0,this.selectedCollections=[]}handleProductsChanged(t,e){var i;const n=new Set([...(e||[]).map((t=>t.id)),...(t||[]).map((t=>t.id))]);if((null==t?void 0:t.length)===(null==e?void 0:e.length)&&n.size===t.length)return;const s=[this.pageTitle,this.paginationEnabled?(0,o.s)((0,o._)("Page %d","surecart"),this.currentPage):void 0,this.sort?this.renderSortName():void 0,this.query||(null===(i=this.selectedCollections)||void 0===i?void 0:i.length)?(0,o._)("Search results","surecart"):void 0].filter((t=>!!t)).join(" - ");this.scProductsViewed.emit({products:this.products,pageTitle:s,collectionId:this.collectionId})}componentWillLoad(){var t;(null===(t=null==this?void 0:this.products)||void 0===t?void 0:t.length)?this.handleProductsChanged(this.products):this.getProducts(),this.collectionEnabled&&this.getCollections()}doPagination(t){if(this.ajaxPagination)return this.page=t,this.updateProducts(),void(this.paginationAutoScroll&&this.el.scrollIntoView({behavior:"smooth"}));const e=(0,r.a)(location.href,{"product-page":t});window.location.replace(e)}async getProducts(){const{"product-page":t}=(0,r.g)(window.location.href);this.page=this.paginationEnabled&&t?parseInt(t):1;try{this.loading=!0,await this.fetchProducts()}catch(t){console.error(t)}finally{this.loading=!1}}async getCollections(){try{this.collections=await(0,a.a)({path:(0,r.a)("surecart/v1/product_collections/",{per_page:100})})}catch(t){console.error(t)}}async handleSortChange(){this.page=1,this.updateProducts()}async updateProducts(t=!1){var e;try{this.busy=!0,await this.fetchProducts(),this.query&&t&&this.scSearched.emit({searchString:this.query,searchResultCount:null===(e=this.products)||void 0===e?void 0:e.length,searchResultIds:this.products.map((t=>t.id))})}catch(t){console.log("error"),console.error(t),this.error=t.message||(0,o._)("An unknown error occurred.","surecart")}finally{this.busy=!1}}handleIdsChange(){null!==this.debounce&&(clearTimeout(this.debounce),this.debounce=null),this.debounce=window.setTimeout((()=>{this.updateProducts(),this.debounce=null}),200)}async fetchProducts(){var t,e;let i=(null===(t=this.selectedCollections)||void 0===t?void 0:t.map((t=>t.id)))||[];this.collectionId&&(i=[this.collectionId]);try{const t=await(0,a.a)({path:(0,r.a)("surecart/v1/products/",{expand:["prices","featured_product_media","product_medias","product_media.media","variants"],archived:!1,status:["published"],per_page:this.limit,page:this.page,sort:this.sort,product_collection_ids:i,...this.featured?{featured:!0}:{},...(null===(e=this.ids)||void 0===e?void 0:e.length)?{ids:this.ids}:{},...this.query?{query:this.query}:{}}),parse:!1});this.currentQuery=this.query,this.pagination={total:parseInt(t.headers.get("X-WP-Total")),total_pages:parseInt(t.headers.get("X-WP-TotalPages"))},this.products=await t.json(),(i.length||this.query)&&(0,s.s)((0,o.s)((0,o._)("%s products found","surecart"),this.pagination.total))}catch(t){await(0,a.h)(t).then((()=>this.fetchProducts())).catch((t=>{this.error=t.message||(0,o._)("An unknown error occurred.","surecart")}))}}renderSortName(){switch(this.sort){case"created_at:desc":return(0,o._)("Latest","surecart");case"created_at:asc":return(0,o._)("Oldest","surecart");case"name:asc":return(0,o._)("Alphabetical, A-Z","surecart");case"name:desc":return(0,o._)("Alphabetical, Z-A","surecart");default:return(0,o._)("Sort","surecart")}}toggleSelectCollection(t){this.selectedCollections.find((e=>e.id===t.id))?this.selectedCollections=this.selectedCollections.filter((e=>e.id!==t.id)):this.selectedCollections=[...this.selectedCollections,t]}getCollectionsAfterFiltered(){var t;return(null!==(t=this.collections)&&void 0!==t?t:[]).filter((t=>!this.selectedCollections.some((e=>e.id===t.id))))}isPaginationAvailable(){var t;return!!(null===(t=this.products)||void 0===t?void 0:t.length)&&this.pagination.total>this.products.length&&this.paginationEnabled}render(){var t,e,i,s,a,r;return(0,n.h)("div",{class:{"product-item-list__wrapper":!0,"product-item-list__has-search":!!this.query}},this.error&&(0,n.h)("sc-alert",{type:"danger",open:!0},this.error),(this.searchEnabled||this.sortEnabled||this.collectionEnabled)&&(0,n.h)("div",{class:"product-item-list__header"},(0,n.h)("div",{class:"product-item-list__controls"},(0,n.h)("div",{class:"product-item-list__sort"},this.sortEnabled&&(0,n.h)("sc-dropdown",{style:{"--panel-width":"15em"}},(0,n.h)("sc-button",{type:"text",caret:!0,slot:"trigger"},(0,n.h)("sc-visually-hidden",null,(0,o._)("Dropdown to sort products.","surecart")," "),this.renderSortName(),(0,n.h)("sc-visually-hidden",null," ",(0,o._)("selected.","surecart"))),(0,n.h)("sc-menu",{"aria-label":(0,o._)("Sort Products","surecart")},(0,n.h)("sc-menu-item",{"aria-label":(0,o._)("Sort by latest","surecart"),onClick:()=>this.sort="created_at:desc"},(0,o._)("Latest","surecart")),(0,n.h)("sc-menu-item",{"aria-label":(0,o._)("Sort by oldest","surecart"),onClick:()=>this.sort="created_at:asc"},(0,o._)("Oldest","surecart")),(0,n.h)("sc-menu-item",{"aria-label":(0,o._)("Sort by name, A to Z","surecart"),onClick:()=>this.sort="name:asc"},(0,o._)("Alphabetical, A-Z","surecart")),(0,n.h)("sc-menu-item",{"aria-label":(0,o._)("Sort by name, Z to A","surecart"),onClick:()=>this.sort="name:desc"},(0,o._)("Alphabetical, Z-A","surecart")))),this.collectionEnabled&&(null!==(t=this.collections)&&void 0!==t?t:[]).length>0&&(0,n.h)("sc-dropdown",{style:{"--panel-width":"15rem"}},(0,n.h)("sc-button",{type:"text",caret:!0,slot:"trigger"},(0,n.h)("sc-visually-hidden",null,(0,o.s)((0,o._)("Dropdown to filter products by collection. %s selected.","surecart"),(null===(e=this.selectedCollections)||void 0===e?void 0:e.length)?this.selectedCollections.map((t=>null==t?void 0:t.name)).join(","):(0,o._)("None","surecart"))),(0,n.h)("span",{"aria-hidden":!0}," ",(0,o._)("Filter","surecart"))),(0,n.h)("sc-menu",{"aria-label":(0,o._)("Filter products","surecart")},(null!==(i=this.collections)&&void 0!==i?i:[]).map((t=>(0,n.h)("sc-menu-item",{checked:this.selectedCollections.some((e=>(null==e?void 0:e.id)===(null==t?void 0:t.id))),onClick:()=>this.toggleSelectCollection(t),key:null==t?void 0:t.id,"aria-label":(0,o.s)((0,o._)("Filter by %s","surecart"),null==t?void 0:t.name)},t.name)))))),(0,n.h)("div",{class:"product-item-list__search"},this.searchEnabled&&((null===(s=this.query)||void 0===s?void 0:s.length)&&this.query===this.currentQuery?(0,n.h)("div",{class:"product-item-list__search-tag"},(0,n.h)("div",{class:"product-item-list__search-label"},(0,o._)("Search Results:","surecart")),(0,n.h)("sc-tag",{clearable:!0,onScClear:()=>{this.query="",this.currentQuery="",this.updateProducts()},"aria-label":(0,o.s)((0,o._)("Searched for %s. Press space to clear search.","surecart"),this.query)},this.query)):(0,n.h)("sc-input",{type:"text",placeholder:(0,o._)("Search","surecart"),size:"small",onKeyUp:t=>{"Enter"===t.key&&(this.query=t.target.value,this.updateProducts(!0))},value:this.query,clearable:!0},this.query?(0,n.h)("sc-icon",{class:"clear-button",slot:"prefix",name:"x",onClick:()=>{this.query=""}}):(0,n.h)("sc-icon",{slot:"prefix",name:"search"}),(0,n.h)("sc-button",{class:"search-button",type:"link",slot:"suffix",busy:this.busy,onClick:()=>{this.updateProducts(!0)}},(0,o._)("Search","surecart")))))),this.collectionEnabled&&this.selectedCollections.length>0&&(0,n.h)("div",{class:"product-item-list__search-tag"},this.selectedCollections.map((t=>(0,n.h)("sc-tag",{key:null==t?void 0:t.id,clearable:!0,onScClear:()=>{this.toggleSelectCollection(t)}},null==t?void 0:t.name))))),!(null===(a=this.products)||void 0===a?void 0:a.length)&&!this.loading&&(0,n.h)("sc-empty",{class:"product-item-list__empty",icon:"shopping-bag"},(0,o._)("No products found.","surecart")),(0,n.h)("section",{class:"product-item-list","aria-label":(0,o._)("Product list","surecart")},this.loading?[...Array((null===(r=this.products)||void 0===r?void 0:r.length)||this.limit||10)].map(((t,e)=>(0,n.h)("div",{class:"product-item-list__loader",key:e},(this.layoutConfig||[]).map((t=>{var e,i;switch(t.blockName){case"surecart/product-item-title":return(0,n.h)("div",{style:{textAlign:"var(--sc-product-title-align)"}},(0,n.h)("sc-skeleton",{style:{width:"80%",display:"inline-block"}}));case"surecart/product-item-image":return(0,n.h)("sc-skeleton",{style:{width:"100%",minHeight:"90%",aspectRatio:null!==(i=null===(e=t.attributes)||void 0===e?void 0:e.ratio)&&void 0!==i?i:"1/1.4","--sc-border-radius-pill":"12px",display:"inline-block"}});case"surecart/product-item-price":return(0,n.h)("div",{style:{textAlign:"var(--sc-product-price-align)"}},(0,n.h)("sc-skeleton",{style:{width:"40%",display:"inline-block"}}));default:return null}}))))):(this.products||[]).map(((t,e)=>(0,n.h)("sc-product-item",{key:null==t?void 0:t.id,...this.products.length-1===e?{"aria-label":(0,o.s)((0,o._)("You have reached the end of product list. %s","surecart"),this.isPaginationAvailable()?(0,o._)("Press tab to browse more products using pagination.","surecart"):(0,o._)("No more products to browse.","surecart"))}:{},exportparts:"title, price, image",product:t,layoutConfig:this.layoutConfig})))),this.isPaginationAvailable()&&(0,n.h)("div",{class:{"product-item-list__pagination":!0,"--is-aligned-left":"left"===this.paginationAlignment,"--is-aligned-center":"center"===this.paginationAlignment,"--is-aligned-right":"right"===this.paginationAlignment}},(0,n.h)("sc-pagination",{page:this.page,perPage:this.limit,total:this.pagination.total,totalPages:this.pagination.total_pages,totalShowing:this.limit,onScNextPage:()=>this.doPagination(this.page+1),onScPrevPage:()=>this.doPagination(this.page-1)})),(this.busy||this.loading)&&(0,n.h)("sc-block-ui",null))}get el(){return(0,n.a)(this)}static get watchers(){return{products:["handleProductsChanged"],sort:["handleSortChange"],selectedCollections:["handleSortChange"],query:["handleSortChange"],ids:["handleIdsChange"],limit:["handleIdsChange"],featured:["handleIdsChange"]}}};l.style=":host {\n  display: block;\n}\n\n.product-item-list {\n  display: grid;\n  grid-template-columns: repeat(var(--sc-product-item-list-column), 1fr);\n  gap: var(--sc-product-item-list-gap);\n}\n.product-item-list__wrapper {\n  container-type: inline-size;\n  display: grid;\n  gap: var(--sc-spacing-medium);\n}\n@container (max-width: 576px) {\n  .product-item-list__wrapper .product-item-list {\n    grid-template-columns: 1fr;\n  }\n}\n@container (min-width: 576px) and (max-width: 768px) {\n  .product-item-list__wrapper .product-item-list {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n.product-item-list__sort, .product-item-list__empty, .product-item-list__search, .product-item-list__search-tag {\n  font-size: 16px;\n}\n.product-item-list__search, .product-item-list__sort {\n  display: flex;\n  align-items: center;\n  gap: var(--sc-spacing-small);\n}\n.product-item-list__controls {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n}\n.product-item-list__loader {\n  display: grid;\n  gap: 0.88rem;\n  padding-top: var(--sc-product-item-padding-top);\n  padding-bottom: var(--sc-product-item-padding-bottom);\n  padding-left: var(--sc-product-item-padding-left);\n  padding-right: var(--sc-product-item-padding-right);\n  margin-top: var(--sc-product-item-margin-top);\n  margin-bottom: var(--sc-product-item-margin-bottom);\n  margin-left: var(--sc-product-item-margin-left);\n  margin-right: var(--sc-product-item-margin-right);\n  border: solid var(--sc-product-item-border-width) var(--sc-product-item-border-color);\n  border-radius: var(--sc-product-item-border-radius);\n  color: var(--sc-product-title-text-color);\n  background-color: var(--sc-product-item-background-color);\n  line-height: 1;\n}\n.product-item-list__pagination {\n  padding: 40px 0 0;\n  width: 100%;\n  font-size: var(--sc-font-size-small, var(--wp--preset--font-size--x-small));\n}\n.product-item-list__search-tag {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: var(--sc-spacing-small);\n}\n.product-item-list__search-label {\n  font-size: var(--sc-font-size-small, var(--wp--preset--font-size--x-small));\n}\n\n.search-button,\n.clear-button {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity var(--sc-transition-medium) ease-in-out;\n  cursor: pointer;\n}\n\n.product-item-list__has-search .search-button,\n.product-item-list__has-search .clear-button {\n  opacity: 1;\n  visibility: visible;\n}\n\nsc-product-item::part(image) {\n  aspect-ratio: var(--sc-product-image-aspect-ratio);\n}\n\nsc-dropdown sc-button::part(base):focus-visible {\n  border: 1px dashed var(--sc-product-item-border-color, --sc-color-gray-50);\n}\n\nsc-pagination {\n  font-size: var(--sc-pagination-font-size);\n}"}}]);