"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[6022],{503:(i,e,t)=>{t.d(e,{o:()=>n});var s=t(4589),n=function(i,e,t){void 0===t&&(t=!0);var n="Function"===i.constructor.name?i.prototype:i,o=n.componentWillLoad;n.componentWillLoad=function(){var i,n=this,r=(0,s.a)(this),h={promise:new Promise((function(e){i=e})),resolve:i},c=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:e,updater:function(i,e){(i in r?r:n)[i]=e},onOpen:h}});r.dispatchEvent(c);var d=function(){if(o)return o.call(n)};return t?h.promise.then((function(){return d()})):d()}}},6022:(i,e,t)=>{t.r(e),t.d(e,{sc_custom_order_price_input:()=>h});var s=t(4589),n=t(9964),o=t(503),r=t(3659);t(857);const h=class{constructor(i){(0,s.r)(this,i),this.scUpdateLineItem=(0,s.c)(this,"scUpdateLineItem",7),this.priceId=void 0,this.price=void 0,this.loading=!1,this.busy=!1,this.label=void 0,this.placeholder=void 0,this.required=void 0,this.help=void 0,this.showCode=void 0,this.lineItems=[],this.fetching=!1,this.lineItem=void 0}handleBlur(i){var e;const t=parseInt(i.target.value);isNaN(t)||(null===(e=this.lineItem)||void 0===e?void 0:e.ad_hoc_amount)!==t&&this.scUpdateLineItem.emit({price_id:this.priceId,quantity:1,ad_hoc_amount:t})}handleLineItemsChange(){var i;(null===(i=this.lineItems)||void 0===i?void 0:i.length)&&(this.lineItem=(this.lineItems||[]).find((i=>i.price.id===this.priceId)))}componentDidLoad(){this.price||this.fetchPrice()}async fetchPrice(){if(this.priceId)try{this.fetching=!0,this.price=await(0,n.a)({path:`surecart/v1/prices/${this.priceId}`})}catch(i){}finally{this.fetching=!1}}renderEmpty(){var i;return(null===(i=null===window||void 0===window?void 0:window.wp)||void 0===i?void 0:i.blocks)?(0,s.h)("sc-alert",{type:"danger",open:!0,style:{margin:"0px"}},(0,r._)("This price has been archived.","surecart")):(0,s.h)(s.H,{style:{display:"none"}})}render(){var i,e,t,n,o,r;return this.loading||this.fetching?(0,s.h)("div",null,(0,s.h)("sc-skeleton",{style:{width:"20%",marginBottom:"0.75em"}}),(0,s.h)("sc-skeleton",{style:{width:"100%"}})):!(null===(i=null==this?void 0:this.price)||void 0===i?void 0:i.id)||(null===(e=this.price)||void 0===e?void 0:e.archived)?this.renderEmpty():(0,s.h)("div",{class:"sc-custom-order-price-input"},(0,s.h)("sc-price-input",{"currency-code":(null===(t=this.price)||void 0===t?void 0:t.currency)||"usd",label:this.label,min:null===(n=null==this?void 0:this.price)||void 0===n?void 0:n.ad_hoc_min_amount,max:null===(o=null==this?void 0:this.price)||void 0===o?void 0:o.ad_hoc_max_amount,placeholder:this.placeholder,required:this.required,value:null===(r=this.lineItem)||void 0===r?void 0:r.ad_hoc_amount.toString(),"show-code":this.showCode,help:this.help}),this.busy&&(0,s.h)("sc-block-ui",{style:{zIndex:"9"}}))}static get watchers(){return{lineItems:["handleLineItemsChange"]}}};(0,o.o)(h,["busy","lineItems"],!1),h.style="sc-custom-order-price-input{display:block}"}}]);