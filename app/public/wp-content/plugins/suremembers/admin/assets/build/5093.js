"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[5093],{5093:(o,i,t)=>{t.r(i),t.d(i,{sc_product_price_modal:()=>l});var d=t(4589),r=t(8332),s=t(3659),e=t(6406);t(2574),t(3417),t(8445),t(7808),t(857),t(1874),t(8175),t(2768),t(2853),t(5444),t(3524),t(9964);const l=class{constructor(o){(0,d.r)(this,o),this.buttonText=void 0,this.addToCart=void 0,this.productId=void 0,this.error=void 0}async submit(){var o,i;if(!this.addToCart){const t=null===(i=null===(o=null===window||void 0===window?void 0:window.scData)||void 0===o?void 0:o.pages)||void 0===i?void 0:i.checkout;if(!t)return;return window.location.assign((0,e.g)(this.productId,t))}try{await(0,e.s)(this.productId)}catch(o){console.error(o),this.error=o}}componentWillLoad(){(0,r.o)(this.productId,(()=>{setTimeout((()=>{var o;null===(o=this.priceInput)||void 0===o||o.triggerFocus()}),50)}))}render(){var o,i,t,l,a,n,c,u,h,v,p,g,m,_,b,I,y,w,x;return(null===(i=null===(o=r.s[this.productId])||void 0===o?void 0:o.selectedPrice)||void 0===i?void 0:i.ad_hoc)?(0,d.h)("sc-dialog",{open:(null===(t=r.s[this.productId])||void 0===t?void 0:t.dialog)===((null==this?void 0:this.addToCart)?"ad_hoc_cart":"ad_hoc_buy"),onScRequestClose:()=>(0,r.b)(this.productId,{dialog:null})},(0,d.h)("span",{class:"dialog__header",slot:"label"},!!(null===(a=null===(l=r.s[this.productId])||void 0===l?void 0:l.product)||void 0===a?void 0:a.image_url)&&(0,d.h)("div",{class:"dialog__image"},(0,d.h)("img",{src:null===(c=null===(n=r.s[this.productId])||void 0===n?void 0:n.product)||void 0===c?void 0:c.image_url})),(0,d.h)("div",{class:"dialog__header-text"},(0,d.h)("div",{class:"dialog__action"},(0,s._)("Enter An Amount","surecart")),(0,d.h)("div",{class:"dialog__product-name"},null===(h=null===(u=r.s[this.productId])||void 0===u?void 0:u.product)||void 0===h?void 0:h.name))),(0,d.h)("sc-form",{onScSubmit:o=>{o.stopImmediatePropagation(),this.submit()},onScFormSubmit:o=>o.stopImmediatePropagation()},!!this.error&&(0,d.h)("sc-alert",{type:"danger",scrollOnOpen:!0,open:!!this.error,closable:!1},!!(0,e.a)(this.error)&&(0,d.h)("span",{slot:"title",innerHTML:(0,e.a)(this.error)}),((0,e.b)(this.error)||[]).map(((o,i)=>(0,d.h)("div",{innerHTML:o,key:i})))),(0,d.h)("sc-price-input",{ref:o=>this.priceInput=o,value:null===(g=null===(p=null===(v=r.s[this.productId])||void 0===v?void 0:v.adHocAmount)||void 0===p?void 0:p.toString)||void 0===g?void 0:g.call(p),"currency-code":null===(_=null===(m=r.s[this.productId])||void 0===m?void 0:m.selectedPrice)||void 0===_?void 0:_.currency,min:null===(I=null===(b=r.s[this.productId])||void 0===b?void 0:b.selectedPrice)||void 0===I?void 0:I.ad_hoc_min_amount,max:null===(w=null===(y=r.s[this.productId])||void 0===y?void 0:y.selectedPrice)||void 0===w?void 0:w.ad_hoc_max_amount,onScInput:o=>(0,r.b)(this.productId,{adHocAmount:parseInt(o.target.value)}),required:!0}),(0,d.h)("sc-button",{type:"primary",full:!0,submit:!0,busy:null===(x=r.s[this.productId])||void 0===x?void 0:x.busy},(0,d.h)("slot",null,this.buttonText||(0,s._)("Add To Cart","surecart"))))):null}get el(){return(0,d.a)(this)}};l.style=":host{display:block}sc-dialog{--body-spacing:var(--sc-spacing-xx-large);color:var(--sc-color-gray-600);text-decoration:none;font-size:16px}.dialog__header{display:flex;align-items:center;gap:var(--sc-spacing-medium)}.dialog__header-text{line-height:var(--sc-line-height-dense)}.dialog__image img{width:60px;height:60px;display:block}.dialog__action{font-weight:var(--sc-font-weight-bold)}.dialog__product-name{font-size:var(--sc-font-size-small)}"}}]);