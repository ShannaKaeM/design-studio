"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[7469],{7469:(t,o,i)=>{i.r(o),i.d(o,{sc_product_buy_button:()=>a});var s=i(4589),d=i(6406),r=i(8332);i(1874),i(2574),i(8445),i(7808),i(3659),i(857),i(8175),i(2768),i(2853),i(5444),i(3524),i(9964),i(3417);const a=class{constructor(t){(0,s.r)(this,t),this.addToCart=void 0,this.productId=void 0,this.formId=void 0,this.mode="live",this.checkoutLink=void 0,this.error=void 0}async handleCartClick(t){var o,i,s,a,n;if(t.preventDefault(),console.log(t),!(null===(o=r.s[this.productId])||void 0===o?void 0:o.busy))if(null===(s=null===(i=r.s[this.productId])||void 0===i?void 0:i.selectedPrice)||void 0===s?void 0:s.ad_hoc)(0,r.b)(this.productId,{dialog:this.addToCart?"ad_hoc_cart":"ad_hoc_buy"});else{if(!this.addToCart){const t=null===(n=null===(a=null===window||void 0===window?void 0:window.scData)||void 0===a?void 0:a.pages)||void 0===n?void 0:n.checkout;if(!t)return;return window.location.assign((0,d.g)(this.productId,t,{no_cart:!this.addToCart}))}try{console.log("submit"),await(0,d.s)(this.productId)}catch(t){console.error(t),this.error=t}}}componentDidLoad(){this.link=this.el.querySelector("a"),this.updateProductLink(),(0,r.o)(this.productId,(()=>this.updateProductLink()))}updateProductLink(){var t,o;const i=null===(o=null===(t=null===window||void 0===window?void 0:window.scData)||void 0===t?void 0:t.pages)||void 0===o?void 0:o.checkout;i&&this.link&&(this.link.href=(0,d.g)(this.productId,i,this.addToCart?{}:{no_cart:!0}))}render(){var t,o;return(0,s.h)(s.H,{class:{"is-busy":(null===(t=r.s[this.productId])||void 0===t?void 0:t.busy)&&!!this.addToCart,"is-disabled":null===(o=r.s[this.productId])||void 0===o?void 0:o.disabled,"is-sold-out":(0,r.i)(this.productId)&&!(0,r.c)(this.productId),"is-unavailable":(0,r.c)(this.productId)},onClick:t=>this.handleCartClick(t)},!!this.error&&(0,s.h)("sc-alert",{onClick:t=>{t.stopPropagation()},type:"danger",scrollOnOpen:!0,open:!!this.error,closable:!1},!!(0,d.a)(this.error)&&(0,s.h)("span",{slot:"title",innerHTML:(0,d.a)(this.error)}),((0,d.b)(this.error)||[]).map(((t,o)=>(0,s.h)("div",{innerHTML:t,key:o})))),(0,s.h)("slot",null))}get el(){return(0,s.a)(this)}};a.style="sc-product-buy-button{position:relative}sc-product-buy-button a.wp-block-button__link{position:relative;text-decoration:none}sc-product-buy-button .sc-block-button--sold-out,sc-product-buy-button .sc-block-button--unavailable{display:none !important}sc-product-buy-button.is-unavailable a{display:none !important}sc-product-buy-button.is-unavailable .sc-block-button--unavailable{display:initial !important}sc-product-buy-button.is-sold-out a{display:none !important}sc-product-buy-button.is-sold-out .sc-block-button--sold-out{display:initial !important}sc-product-buy-button sc-spinner::part(base){--indicator-color:currentColor;--spinner-size:12px;position:absolute;top:calc(50% - var(--spinner-size) + var(--spinner-size) / 4);left:calc(50% - var(--spinner-size) + var(--spinner-size) / 4)}sc-product-buy-button [data-text],sc-product-buy-button [data-loader]{transition:opacity var(--sc-transition-fast) ease-in-out, visibility var(--sc-transition-fast) ease-in-out}sc-product-buy-button [data-loader]{opacity:0;visibility:hidden}sc-product-buy-button.is-disabled{pointer-events:none}sc-product-buy-button.is-busy [data-text]{opacity:0;visibility:hidden}sc-product-buy-button.is-busy [data-loader]{opacity:1;visibility:visible}sc-product-buy-button sc-alert{margin-bottom:var(--sc-spacing-medium)}sc-product-buy-button.is-out-of-stock [data-text]{opacity:0.6}"}}]);