"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[3034],{9248:(t,o,e)=>{e.d(o,{a:()=>r,b:()=>l,c:()=>s,d:()=>c,g:()=>i,i:()=>d});var n=e(6137);const s=()=>["loading","busy","redirecting"].includes(n.s.loading),i=()=>{var t,o;return(null===(o=null===(t=null===n.s||void 0===n.s?void 0:n.s.checkout)||void 0===t?void 0:t.metadata)||void 0===o?void 0:o.success_url)||n.s.success_url||null},r=t=>{var o,e;return null!==(e=null===(o=null===n.s||void 0===n.s?void 0:n.s.line_item)||void 0===o?void 0:o.total_amount)&&void 0!==e?e:t},l=t=>{var o,e,s;return(null===(o=null===n.s||void 0===n.s?void 0:n.s.line_item)||void 0===o?void 0:o.total_savings_amount)?-(null===(e=null===n.s||void 0===n.s?void 0:n.s.line_item)||void 0===e?void 0:e.total_savings_amount)+(null===(s=null===n.s||void 0===n.s?void 0:n.s.line_item)||void 0===s?void 0:s.total_amount):t},a=(t="seconds")=>{var o;const e=null===(o=n.s.checkout)||void 0===o?void 0:o.upsells_expire_at;if(!e)return null;const s=Date.now(),i=Math.floor((1e3*e-s)/1e3);return i<0?0:"seconds"===t?i:"minutes"===t?Math.floor(i/60):"hours"===t?Math.floor(i/60/60):void 0},u=t=>t<10?`0${t}`:`${t}`,c=()=>{var t;if(!(null===(t=n.s.checkout)||void 0===t?void 0:t.upsells_expire_at))return"--:--";const o=a("seconds"),e=Math.floor(o/86400),s=Math.floor(o%86400/3600),i=Math.floor(o%3600/60),r=Math.floor(o%60);return e>0?`${u(e)}:${u(s)}:${u(i)}:${u(r)}`:s>0?`${u(s)}:${u(i)}:${u(r)}`:`${u(i)}:${u(r)}`},d=()=>{const t=a();return null!==a()&&t<=0}},2574:(t,o,e)=>{e.d(o,{c:()=>l});var n=e(4589);const s=t=>!("isConnected"in t)||t.isConnected,i=((t,o)=>{let e;return(...t)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(t=>{for(let o of t.keys())t.set(o,t.get(o).filter(s))})(...t)}),2e3)}})(),r=t=>"function"==typeof t?t():t,l=(t,o)=>{const e=((t,o=((t,o)=>t!==o))=>{const e=r(t);let n=new Map(Object.entries(null!=e?e:{}));const s={dispose:[],get:[],set:[],reset:[]},i=()=>{var o;n=new Map(Object.entries(null!==(o=r(t))&&void 0!==o?o:{})),s.reset.forEach((t=>t()))},l=t=>(s.get.forEach((o=>o(t))),n.get(t)),a=(t,e)=>{const i=n.get(t);o(e,i,t)&&(n.set(t,e),s.set.forEach((o=>o(t,e,i))))},u="undefined"==typeof Proxy?{}:new Proxy(e,{get:(t,o)=>l(o),ownKeys:t=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,o)=>n.has(o),set:(t,o,e)=>(a(o,e),!0)}),c=(t,o)=>(s[t].push(o),()=>{((t,o)=>{const e=t.indexOf(o);e>=0&&(t[e]=t[t.length-1],t.length--)})(s[t],o)});return{state:u,get:l,set:a,on:c,onChange:(o,e)=>{const n=c("set",((t,n)=>{t===o&&e(n)})),s=c("reset",(()=>e(r(t)[o])));return()=>{n(),s()}},use:(...t)=>{const o=t.reduce(((t,o)=>(o.set&&t.push(c("set",o.set)),o.get&&t.push(c("get",o.get)),o.reset&&t.push(c("reset",o.reset)),o.dispose&&t.push(c("dispose",o.dispose)),t)),[]);return()=>o.forEach((t=>t()))},dispose:()=>{s.dispose.forEach((t=>t())),i()},reset:i,forceUpdate:t=>{const o=n.get(t);s.set.forEach((e=>e(t,o,o)))}}})(t,o);return e.use((()=>{if("function"!=typeof n.g)return{};const t=new Map;return{dispose:()=>t.clear(),get:o=>{const e=(0,n.g)();e&&((t,o,e)=>{const n=t.get(o);n?n.includes(e)||n.push(e):t.set(o,[e])})(t,o,e)},set:o=>{const e=t.get(o);e&&t.set(o,e.filter(n.f)),i(t)},reset:()=>{t.forEach((t=>t.forEach(n.f))),i(t)}}})()),e}},3034:(t,o,e)=>{e.r(o),e.d(o,{sc_upsell_countdown_timer:()=>i});var n=e(4589),s=e(9248);e(6137),e(2574);const i=class{constructor(t){(0,n.r)(this,t),this.timeRemaining=1/0,this.formattedTime=void 0,this.showIcon=!0}componentDidLoad(){this.updateCountdown()}updateCountdown(){this.formattedTime=(0,s.d)(),setInterval((()=>{this.formattedTime=(0,s.d)()}),1e3)}render(){return(0,n.h)(n.H,{role:"timer",class:{"sc-upsell-countdown-timer":!0}},this.showIcon&&(0,n.h)("sc-icon",{name:"clock"}),(0,n.h)("span",null,(0,n.h)("slot",{name:"offer-expire-text"})," ",(0,n.h)("strong",null,this.formattedTime)))}};i.style=":host{display:flex;justify-content:var(--sc-upsell-countdown-timer-justify-content, center);align-items:var(--sc-upsell-countdown-timer-align-items, center);text-align:var(--sc-upsell-countdown-timer-text-align, center);flex-wrap:wrap;gap:var(--sc-upsell-countdown-timer-gap, 0.5em);line-height:1;padding:var(--sc-upsell-countdown-timer-padding, var(--sc-spacing-medium));border-radius:var(--sc-upsell-countdown-timer-border-radius, var(--sc-border-radius-pill));background-color:var(--sc-upsell-countdown-timer-background-color, rgb(226, 249, 235));color:var(--sc-upsell-countdown-timer-color, rgb(71, 91, 80))}"},6137:(t,o,e)=>{e.d(o,{o:()=>a,s:()=>l});var n=e(4904),s=e(2574);const{upsell:i}=(0,n.g)(),r=(0,s.c)({upsell:null,product:null,line_item:null,checkout_id:null,checkout:null,form_id:null,busy:!1,disabled:!1,success_url:null,text:{success:{title:"",description:"",button:""}},...i},((t,o)=>JSON.stringify(t)!==JSON.stringify(o))),{state:l,onChange:a,on:u,dispose:c,forceUpdate:d}=r},4904:(t,o,e)=>{e.d(o,{a:()=>i,g:()=>n,i:()=>s});const n=()=>{const t=document.querySelector('script[type="application/json"]#sc-store-data');if(!t)return{};try{const e=JSON.parse(t.textContent);if((o=e)&&"object"==typeof o&&!Array.isArray(o))return e;throw Error("Parsed state is not an object")}catch(t){console.log(t)}var o;return{}},s=(t,o,e,n)=>{var s,i,r,l,a;if(!(null==n?void 0:n.stock_enabled)||(null==n?void 0:n.allow_out_of_stock_purchases))return!1;if(1===t){const t=null===(r=(i=(null===(s=n.variants)||void 0===s?void 0:s.data)||[]).filter)||void 0===r?void 0:r.call(i,(t=>t.option_1===o));return Math.max(...t.map((t=>t.available_stock)))<=0}if(2===t){const t=((null===(l=n.variants)||void 0===l?void 0:l.data)||[]).filter((t=>(null==t?void 0:t.option_1)===e.option_1&&t.option_2===o));return Math.max(...t.map((t=>t.available_stock)))<=0}const u=((null===(a=n.variants)||void 0===a?void 0:a.data)||[]).filter((t=>(null==t?void 0:t.option_1)===e.option_1&&(null==t?void 0:t.option_2)===e.option_2&&t.option_3===o));return Math.max(...u.map((t=>t.available_stock)))<=0},i=(t,o,e,n)=>{var s,i,r;return 1===t?!((null===(s=null==n?void 0:n.variants)||void 0===s?void 0:s.data)||[]).some((t=>t.option_1===o)):2===t?!((null===(i=null==n?void 0:n.variants)||void 0===i?void 0:i.data)||[]).some((t=>(null==t?void 0:t.option_1)===e.option_1&&t.option_2===o)):!((null===(r=null==n?void 0:n.variants)||void 0===r?void 0:r.data)||[]).some((t=>(null==t?void 0:t.option_1)===e.option_1&&(null==t?void 0:t.option_2)===e.option_2&&t.option_3===o))}}}]);