"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[4604],{4604:(s,e,r)=>{r.r(e),r.d(e,{sc_wordpress_password_edit:()=>o});var t=r(4589),a=r(3659),i=r(9964);r(857);const o=class{constructor(s){(0,t.r)(this,s),this.heading=void 0,this.successUrl=void 0,this.user=void 0,this.loading=void 0,this.error=void 0,this.enableValidation=!0}renderEmpty(){return(0,t.h)("slot",{name:"empty"},(0,a._)("User not found.","surecart"))}validatePassword(s){return!!new RegExp("^(?=.*?[#?!@$%^&*-]).{6,}$").test(s)}async handleSubmit(s){this.loading=!0,this.error="";try{const{password:e}=await s.target.getFormJson();await(0,i.a)({path:"wp/v2/users/me",method:"PATCH",data:{password:e,meta:{default_password_nag:!1}}}),this.successUrl?window.location.assign(this.successUrl):this.loading=!1}catch(s){this.error=(null==s?void 0:s.message)||(0,a._)("Something went wrong","surecart"),this.loading=!1}}render(){return(0,t.h)("sc-dashboard-module",{class:"customer-details",error:this.error},(0,t.h)("span",{slot:"heading"},this.heading||(0,a._)("Update Password","surecart")," "),(0,t.h)("slot",{name:"end",slot:"end"}),(0,t.h)("sc-card",null,(0,t.h)("sc-form",{onScFormSubmit:s=>this.handleSubmit(s)},(0,t.h)("sc-password",{enableValidation:this.enableValidation,label:(0,a._)("New Password","surecart"),name:"password",confirmation:!0,required:!0}),(0,t.h)("div",null,(0,t.h)("sc-button",{type:"primary",full:!0,submit:!0},(0,a._)("Update Password","surecart"))))),this.loading&&(0,t.h)("sc-block-ui",{spinner:!0}))}};o.style=":host{display:block;position:relative}"}}]);