"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[975],{975:(s,e,a)=>{a.r(e),a.d(e,{sc_wordpress_user_edit:()=>l});var i=a(4589),t=a(3659),r=a(9964);a(857);const l=class{constructor(s){(0,i.r)(this,s),this.heading=void 0,this.successUrl=void 0,this.user=void 0,this.loading=void 0,this.error=void 0}renderEmpty(){return(0,i.h)("slot",{name:"empty"},(0,t._)("User not found.","surecart"))}async handleSubmit(s){this.loading=!0;try{const{email:e,first_name:a,last_name:i,name:t}=await s.target.getFormJson();await(0,r.a)({path:"wp/v2/users/me",method:"PATCH",data:{first_name:a,last_name:i,email:e,name:t}}),this.successUrl?window.location.assign(this.successUrl):this.loading=!1}catch(s){this.error=(null==s?void 0:s.message)||(0,t._)("Something went wrong","surecart"),this.loading=!1}}render(){var s,e,a,r;return(0,i.h)("sc-dashboard-module",{class:"account-details",error:this.error},(0,i.h)("span",{slot:"heading"},this.heading||(0,t._)("Account Details","surecart")," "),(0,i.h)("sc-card",null,(0,i.h)("sc-form",{onScFormSubmit:s=>this.handleSubmit(s)},(0,i.h)("sc-input",{label:(0,t._)("Account Email","surecart"),name:"email",value:null===(s=this.user)||void 0===s?void 0:s.email,required:!0}),(0,i.h)("sc-columns",{style:{"--sc-column-spacing":"var(--sc-spacing-medium)"}},(0,i.h)("sc-column",null,(0,i.h)("sc-input",{label:(0,t._)("First Name","surecart"),name:"first_name",value:null===(e=this.user)||void 0===e?void 0:e.first_name})),(0,i.h)("sc-column",null,(0,i.h)("sc-input",{label:(0,t._)("Last Name","surecart"),name:"last_name",value:null===(a=this.user)||void 0===a?void 0:a.last_name}))),(0,i.h)("sc-input",{label:(0,t._)("Display Name","surecart"),name:"name",value:null===(r=this.user)||void 0===r?void 0:r.display_name}),(0,i.h)("div",null,(0,i.h)("sc-button",{type:"primary",full:!0,submit:!0},(0,t._)("Save","surecart"))))),this.loading&&(0,i.h)("sc-block-ui",{spinner:!0}))}};l.style=":host{display:block;position:relative}.customer-details{display:grid;gap:0.75em}"}}]);