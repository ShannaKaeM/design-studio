"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[8274],{5792:(e,t,o)=>{o.d(t,{g:()=>i});var n=o(2538);function i(e,t){return(0,n.g)(e)[t]}},7059:(e,t,o)=>{o.r(t),o.d(t,{sc_order_confirmation:()=>l});var n=o(4589),i=o(9964),r=o(3659),s=o(9379),a=o(5792),d=o(2538);o(857);const l=class{constructor(e){(0,n.r)(this,e),this.order=void 0,this.loading=!1,this.error=void 0}componentWillLoad(){s.U.create(this,this.state()),this.getSession()}getSessionId(){var e;return(null===(e=this.order)||void 0===e?void 0:e.id)?this.order.id:(0,a.g)(window.location.href,"sc_order")}async getSession(){var e;if(this.getSessionId()&&!(null===(e=this.order)||void 0===e?void 0:e.id))try{this.loading=!0,this.order=await await(0,i.a)({path:(0,d.a)(`surecart/v1/checkouts/${this.getSessionId()}`,{expand:["line_items","line_item.price","line_item.fees","price.product","customer","customer.shipping_address","payment_intent","discount","manual_payment_method","discount.promotion","billing_address","shipping_address"],refresh_status:!0})})}catch(e){(null==e?void 0:e.message)?this.error=e.message:this.error=(0,r._)("Something went wrong","surecart")}finally{this.loading=!1}}state(){var e,t;const o=null===(e=this.order)||void 0===e?void 0:e.manual_payment_method;return{processor:"stripe",loading:this.loading,orderId:this.getSessionId(),order:this.order,customer:null===(t=this.order)||void 0===t?void 0:t.customer,manualPaymentTitle:null==o?void 0:o.name,manualPaymentInstructions:null==o?void 0:o.instructions}}renderOnHold(){var e,t,o;return"processing"!==(null===(e=this.order)||void 0===e?void 0:e.status)?null:"paypal"===(null===(o=null===(t=null==this?void 0:this.order)||void 0===t?void 0:t.payment_intent)||void 0===o?void 0:o.processor_type)?(0,n.h)("sc-alert",{type:"warning",open:!0},(0,r._)("Paypal is taking a closer look at this payment. Itâ€™s required for some payments and normally takes up to 3 business days.","surecart")):void 0}renderManualInstructions(){var e;const t=null===(e=this.order)||void 0===e?void 0:e.manual_payment_method;if(null==t?void 0:t.instructions)return(0,n.h)("sc-alert",{type:"info",open:!0},(0,n.h)("span",{slot:"title"},null==t?void 0:t.name),(0,n.h)("div",{innerHTML:null==t?void 0:t.instructions}))}render(){var e,t;return(0,n.h)(s.U.Provider,{state:this.state()},(0,n.h)("div",{class:{"order-confirmation":!0}},(0,n.h)("div",{class:{"order-confirmation__content":!0,hidden:!(null===(e=this.order)||void 0===e?void 0:e.id)&&!this.loading}},(0,n.h)("sc-order-confirm-components-validator",{checkout:this.order},(0,n.h)("slot",null))),!(null===(t=this.order)||void 0===t?void 0:t.id)&&!this.loading&&(0,n.h)("sc-heading",null,(0,r._)("Order not found.","surecart"),(0,n.h)("span",{slot:"description"},(0,r._)("This order could not be found. Please try again.","surecart")))))}};l.style=":host{display:block;max-width:800px;margin:auto}::slotted(*:not(:last-child)),sc-form form>*:not(:last-child){margin-bottom:var(--sc-form-row-spacing-large)}.order-confirmation__content{color:var(--sc-order-confirmation-color, var(--sc-color-gray-500))}.order-confirmation__content.hidden{display:none}::part(line-items){display:grid;gap:0.5em}"},9379:(e,t,o)=>{o.d(t,{U:()=>s});var n=o(4589),i=new Map,r=function(e,t){var o=e.fields,n=e.updater;o.forEach((function(e){n(e,t[e])}))},s={create:function(e,t){var o=(0,n.a)(e),s=new Map,a={wormholes:s,state:t};i.set(e,a);var d=e.connectedCallback;e.connectedCallback=function(){i.set(e,a),d&&d.call(e)};var l=e.disconnectedCallback;e.disconnectedCallback=function(){i.delete(e),l&&l.call(e)},o.addEventListener("openWormhole",(function(e){e.stopPropagation();var t=e.detail,o=t.consumer,n=t.onOpen;if(!s.has(o)){if("symbol"!=typeof o){var i=o.connectedCallback,d=o.disconnectedCallback;o.connectedCallback=function(){s.set(o,e.detail),i&&i.call(o)},o.disconnectedCallback=function(){s.delete(o),d&&d.call(o)}}s.set(o,e.detail),r(e.detail,a.state),null==n||n.resolve((function(){s.delete(o)}))}})),o.addEventListener("closeWormhole",(function(e){var t=e.detail;s.delete(t)}))},Provider:function(e,t){var o=e.state,s=(0,n.g)();if(i.has(s)){var a=i.get(s);a.state=o,a.wormholes.forEach((function(e){r(e,o)}))}return t}}}}]);