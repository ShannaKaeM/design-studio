"use strict";(globalThis.webpackChunksuremembers=globalThis.webpackChunksuremembers||[]).push([[3243],{3243:(i,l,e)=>{e.r(l),e.d(l,{sc_fulfillments:()=>d});var s=e(4589),t=e(3659),n=e(9964),r=e(2538);e(857);const d=class{constructor(i){(0,s.r)(this,i),this.orderId=void 0,this.heading=void 0,this.fulfillments=void 0,this.loading=void 0,this.busy=void 0,this.error=void 0}componentDidLoad(){this.fetch()}async fetch(){try{this.busy=!0,this.fulfillments=await(0,n.a)({path:(0,r.a)("surecart/v1/fulfillments",{expand:["trackings","fulfillment_items","fulfillment_item.line_item","line_item.price","price.product"],order_ids:[this.orderId],shipment_status:["shipped","delivered"]})})}catch(i){console.error(this.error),this.error=(null==i?void 0:i.message)||(0,t._)("Something went wrong","surecart")}finally{this.busy=!1}}renderLoading(){return(0,s.h)("sc-flex",{flexDirection:"column",style:{gap:"1em"}},(0,s.h)("sc-skeleton",{style:{width:"20%",display:"inline-block"}}),(0,s.h)("sc-skeleton",{style:{width:"60%",display:"inline-block"}}),(0,s.h)("sc-skeleton",{style:{width:"40%",display:"inline-block"}}))}render(){var i,l;return this.loading||!(null===(i=this.fulfillments)||void 0===i?void 0:i.length)?(0,s.h)(s.H,{style:{display:"none"}}):(0,s.h)("sc-spacing",{style:{"--spacing":"var(--sc-spacing-large)"}},(0,s.h)("sc-dashboard-module",{error:this.error},(0,s.h)("span",{slot:"heading"},this.heading||(0,t.a)("Shipment","Shipments",null===(l=this.fulfillments)||void 0===l?void 0:l.length,"surecart")),this.fulfillments.map((i=>{var l,e,n,r,d,a;return(0,s.h)("sc-card",{noPadding:!0},(0,s.h)("sc-stacked-list",null,(0,s.h)("sc-stacked-list-row",null,(0,s.h)("div",{class:"fulfillment__header"},(0,s.h)("sc-fulfillment-shipping-status-badge",{status:i.shipment_status}),(0,s.h)("div",{class:"fulfillment__number"},"#",null==i?void 0:i.number))),!!(null===(e=null===(l=null==i?void 0:i.trackings)||void 0===l?void 0:l.data)||void 0===e?void 0:e.length)&&(0,s.h)("sc-stacked-list-row",null,(0,s.h)("div",{class:"trackings"},(0,s.h)("sc-icon",{name:"truck"}),(0,s.h)("div",{class:"trackings__details"},(0,s.h)("div",{class:"trackings__title"},(0,t.a)("Tracking number","Tracking numbers",null===(r=null===(n=null==i?void 0:i.trackings)||void 0===n?void 0:n.data)||void 0===r?void 0:r.length,"surecart")),(0,s.h)("div",{class:"trackings__list"},((null===(d=null==i?void 0:i.trackings)||void 0===d?void 0:d.data)||[]).map((({number:i,url:l})=>(0,s.h)("a",{href:l,target:"_blank"},i))))))),((null===(a=null==i?void 0:i.fulfillment_items)||void 0===a?void 0:a.data)||[]).map((({id:i,line_item:l,quantity:e})=>{var n,r,d,a,o,c,u,h,v,m,g,p;return(0,s.h)("sc-stacked-list-row",{key:i,style:{"--columns":"2"}},(0,s.h)("div",null,(0,s.h)("div",{class:"line_item__info"},(0,s.h)("div",{class:"line_item__image"},!!(null===(r=null===(n=null==l?void 0:l.price)||void 0===n?void 0:n.product)||void 0===r?void 0:r.image_url)&&(0,s.h)("img",{src:null===(a=null===(d=null==l?void 0:l.price)||void 0===d?void 0:d.product)||void 0===a?void 0:a.image_url})),(0,s.h)("div",{class:"line_item__text"},(0,s.h)("div",null,null===(c=null===(o=null==l?void 0:l.price)||void 0===o?void 0:o.product)||void 0===c?void 0:c.name),(0,s.h)("div",null,!!(null===(h=null===(u=null==l?void 0:l.price)||void 0===u?void 0:u.product)||void 0===h?void 0:h.weight)&&(0,s.h)("sc-format-number",{type:"unit",value:null===(m=null===(v=null==l?void 0:l.price)||void 0===v?void 0:v.product)||void 0===m?void 0:m.weight,unit:null===(p=null===(g=null==l?void 0:l.price)||void 0===g?void 0:g.product)||void 0===p?void 0:p.weight_unit}))))),(0,s.h)("span",null,(0,t.s)((0,t._)("Qty: %d","surecart"),e||0)))}))))}))))}get el(){return(0,s.a)(this)}};d.style=".fulfillment{display:grid;gap:var(--sc-spacing-x-large)}.fulfillment__number{font-weight:bold}.fulfillment__header{display:flex;align-items:center;gap:var(--sc-spacing-medium)}sc-card{--sc-card-padding:var(--sc-spacing-x-large)}.trackings{display:flex;gap:0.75em;color:var(--sc-line-item-title-color, var(--sc-input-label-color))}.trackings__title{line-height:var(--sc-line-height-dense);font-weight:var(--sc-font-weight-bold)}.trackings sc-icon{opacity:0.5;font-size:22px}.line_items{display:grid;gap:var(--sc-spacing-large)}.line_item__info{display:flex;gap:var(--sc-spacing-medium);align-items:center}.line_item__image img{width:var(--sc-product-line-item-image-size, 4em);height:var(--sc-product-line-item-image-size, 4em);object-fit:cover;border-radius:4px;border:solid 1px var(--sc-input-border-color, var(--sc-input-border));display:block;box-shadow:var(--sc-input-box-shadow)}"}}]);