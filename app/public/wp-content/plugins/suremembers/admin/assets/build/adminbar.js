(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var s in t)e.o(t,s)&&!e.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:t[s]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.wp.element,t=window.wp.components,s=window.wp.i18n,n=e=>{let{link:n,title:a,onRequestClose:m}=e;return(0,r.createElement)(t.Modal,{className:"suremembers-modal",shouldCloseOnClickOutside:!1,title:a,isFullScreen:!0,onRequestClose:m},(0,r.createElement)("iframe",{title:(0,s.__)("Access Settings","suremembers"),id:"sureMembersbariFrame",width:"100%",height:"100%",src:n,frameBorder:"0",allowFullScreen:!0}))},a=window.wp.apiFetch;var m=e.n(a);const i=()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(""),i=()=>{const e=document.querySelectorAll(".suremembers_adbar_itm");for(let r=0;r<e.length;r++)e[r].firstElementChild.addEventListener("click",(s=>{s.preventDefault();const n=e[r].firstElementChild.getAttribute("href");n&&(a(n+"&suremembers_view=iframe"),t(!0))}))};return(0,r.useEffect)((()=>{i()}),null),(0,r.createElement)(r.Fragment,null,e&&(0,r.createElement)(n,{title:suremembers_adminbar.modal_title,link:s,onRequestClose:()=>{t(!1),(()=>{const e=new FormData;e.append("action","suremembers_fetch_adminbar_groups"),e.append("security",suremembers_adminbar.nonce),void 0!==suremembers_adminbar.current_post_id&&e.append("current_post_id",suremembers_adminbar.current_post_id),e.append("current_page_type",suremembers_adminbar.current_page_type),m()({url:suremembers_adminbar.ajax_url,method:"POST",body:e}).then((e=>{if(!0===e.success&&""!==e.data){const r=document.getElementById("wp-admin-bar-suremembers-admin-menu-bar-levels"),t=document.getElementById("wp-admin-bar-suremembers-admin-menu-bar");if(null!==r){if(0!==e.data.access_groups.length){t.classList.add("suremembers-has-restrictions");const s=wp.template("suremembers-admin-bar-access-list");r.innerHTML=s({access_groups:e.data.access_groups})}else r.innerHTML='<li id="wp-admin-bar-suremembers-admin-menu-bar-levels-no_levels"><div class="ab-item ab-empty-item">Page is Not Restricted</div></li>',t.classList.remove("suremembers-has-restrictions");i()}}}))})()}}))};!function(){const e=document.getElementById("wp-admin-bar-suremembers-admin-menu-bar-suremembers_admin_bar_menu_hldr");document.addEventListener("DOMContentLoaded",(function(){null!==e&&(0,r.render)((0,r.createElement)(i,null),e)}))}()})();